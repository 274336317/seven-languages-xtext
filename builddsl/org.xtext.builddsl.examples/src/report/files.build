package report

task CountFileExtensions {
	val counter = <String, Integer>newHashMap()
	for(file:git.containedFiles[name.contains(".")]) {
		val count = counter.get(file.fileExtension)
		counter.put(file.fileExtension, if(count == null) 1 else count + 1)
	}
	val total = counter.values.reduce[ i, j | i+j ] / 100
	println(counter.entrySet.sortBy[-value].map[key + ": " + value + " (" + (value / total) + "%)"].join("\n"))
}